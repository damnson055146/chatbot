# P0 Tasks (IR -> proj alignment)

Goal: close the P0 gaps between IR requirements and current implementation.

## P0 Backlog
- [ ] Image OCR ingestion pipeline
  - Accept image MIME types in upload/ingest
  - OCR to text + metadata (page, confidence)
  - Store extracted text for chunking/indexing
  - Error handling when OCR fails
  - Update user/admin UI copy for OCR support
  - Tests for image upload -> ingest -> query

- [ ] Audio STT ingestion pipeline
  - Accept audio MIME types in upload/ingest
  - Speech-to-text (IR: FunAudioLLM) -> transcript + timestamps
  - Store transcript for chunking/indexing
  - Error handling when STT fails
  - Tests for audio upload -> ingest -> query

- [ ] Multimodal query path
  - /v1/query accepts attachments and merges OCR/STT text with user question
  - Multimodal LLM routing for image+text (IR: GLM-4.1V / Qwen2.5-VL)
  - Citations still derived from RAG chunks
  - Streaming behavior preserved for multimodal responses

- [ ] Model stack alignment to IR
  - Default embed/rerank models set to Qwen3-Embedding-8B + Qwen3-Reranker-8B
  - Add config/env toggles for multimodal chat models
  - Update docs to reflect IR model choices and fallbacks

- [ ] Documentation + acceptance checks
  - docs/api.md: include multimodal upload/query notes
  - docs/development_compilation.md: update limitations section
  - Add a minimal P0 acceptance checklist (OCR/STT happy path + failure path)
